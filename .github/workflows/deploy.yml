name: Deploy to GitHub Pages

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]
  workflow_dispatch:

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    # GitHub Actions ê¶Œí•œ ëª…ì‹œ
    permissions:
      contents: write
    steps:
      - name: Checkout ğŸ›ï¸
        uses: actions/checkout@v3
        with:
          persist-credentials: false  # ì¤‘ìš”: ì¸ì¦ ë¬¸ì œ í•´ê²°ì„ ìœ„í•´ ì¶”ê°€

      - name: Install and Build ğŸ”§
        run: |
          # ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ê°€ ìˆëŠ” ê²½ìš° ì—¬ê¸°ì„œ ì‹¤í–‰
          # npm install
          # npm run build
          # ë¹Œë“œê°€ í•„ìš” ì—†ëŠ” ì •ì  ì‚¬ì´íŠ¸ëŠ” ì´ ë‹¨ê³„ë¥¼ ê±´ë„ˆë›¸ ìˆ˜ ìˆìŒ
          
      - name: Deploy ğŸš€
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          folder: .                     # ë°°í¬í•  í´ë” (Phaser ê²Œì„ì˜ ê²½ìš° ë³´í†µ ë£¨íŠ¸ ë””ë ‰í† ë¦¬)
          branch: gh-pages              # ë°°í¬í•  ë¸Œëœì¹˜
          clean: true                   # ì´ì „ ë°°í¬ ë‚´ìš© ì •ë¦¬
          token: ${{ secrets.GITHUB_TOKEN }}  # GitHub ì œê³µ í† í° ì‚¬ìš©
          clean-exclude: |              # í•„ìš”ì— ë”°ë¼ ë³´ì¡´í•  íŒŒì¼ë“¤ (ì„ íƒ ì‚¬í•­)
            .nojekyll
            CNAME